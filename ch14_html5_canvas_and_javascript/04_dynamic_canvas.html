<html>
  <head>
    <title>Dynamic canvas</title>
    <style>
      canvas {
        border: 1px solid black;
        margin-bottom: 30px;
      }
    </style>
    <script>
      // # Dynamic canvas
    </script>
  </head>
  <body>
    <canvas id="canvas1"></canvas>
    <br />
    <canvas id="canvas2"></canvas>
    <br />
    <canvas id="canvas3"></canvas>
    <br />
    <canvas id="canvas4"></canvas>
    <img src="flower.jpg" id="flower" />
    <br />
    <canvas id="canvas5"></canvas>
    <canvas id="canvas6"></canvas>
    <canvas id="canvas7"></canvas>
    <br />
    <input type="file" id="imgLoader" />
    <br />
    <canvas id="canvas8"></canvas>
    <script>
      // ## Adding lines and circles to the canvas
      let canvas = document.getElementById("canvas1");
      let ctx = canvas.getContext("2d");
      canvas.width = 100;
      canvas.height = 100;
      ctx.lineWidth = 2;
      ctx.moveTo(0, 20);
      ctx.lineTo(50, 100);
      ctx.stroke();

      canvas = document.getElementById("canvas2");
      ctx = canvas.getContext("2d");
      canvas.width = 150;
      canvas.height = 200;
      ctx.beginPath();
      // parameters: x, y, radius, starting angle, ending angle (in radians)
      ctx.arc(75, 100, 50, 0, Math.PI * 2);
      ctx.stroke();

      // ## Adding text to the canvas
      canvas = document.getElementById("canvas3");
      ctx = canvas.getContext("2d");
      canvas.width = 200;
      canvas.height = 200;
      ctx.font = "24px Arial";
      let txt = "Hi canvas!";
      // ctx.textAlign = "center";
      ctx.fillText(txt, 10, 35);

      // ## Adding and uploading images to the canvas
      window.onload = function () {
        let canvas = document.getElementById("canvas4");
        canvas.height = 300;
        canvas.width = 300;
        let ctx = canvas.getContext("2d");
        let myImage = document.getElementById("flower");
        ctx.drawImage(myImage, 10, 10);
      };

      let canvas5 = document.getElementById("canvas5");
      let ctx5 = canvas5.getContext("2d");
      ctx5.strokeRect(5, 5, 150, 100);

      let canvas6 = document.getElementById("canvas6");
      let ctx6 = canvas6.getContext("2d");
      ctx6.beginPath();
      ctx6.arc(60, 60, 20, 0, 2 * Math.PI);
      ctx6.stroke();

      let canvas7 = document.getElementById("canvas7");
      let ctx7 = canvas7.getContext("2d");
      ctx7.drawImage(canvas5, 10, 10);
      ctx7.drawImage(canvas6, 10, 10);

      let canvas8 = document.getElementById("canvas8");
      let ctx8 = canvas8.getContext("2d");
      let imgLoader = document.getElementById("imgLoader");
      imgLoader.addEventListener("change", upImage, false);
      function upImage() {
        let fr = new FileReader();
        fr.readAsDataURL(event.target.files[0]);
        fr.onload = function (e) {
          let img = new Image();
          img.src = event.target.result;
          img.onload = function () {
            canvas8.width = img.width;
            canvas8.height = img.height;
            ctx8.drawImage(img, 0, 0);
          };
          console.log(fr);
        };
      }
    </script>
  </body>
</html>
