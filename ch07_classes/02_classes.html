<html>
  <head>
    <title>Classes</title>
    <script>
      // # Classes
      // ## Constructors
      class Person {
        /*
        constructor(firstname, lastname) {
          this.firstname = firstname;
          this.lastname = lastname;
        }
        */
        constructor(firstname, lastname = "Doe") {
          this.firstname = firstname;
          this.lastname = lastname;
        }
      }

      let p = new Person("Maaike", "van Putten");
      console.log("Hi", p.firstname);

      p = new Person("Maaike");
      console.log("Hi", p.firstname, p.lastname);

      // ## Methods
      class Student {
        constructor(firstname, lastname) {
          this.firstname = firstname;
          this.lastname = lastname;
        }

        greet() {
          console.log("Hi there! I'm", this.firstname);
        }

        compliment(name, object) {
          return "That's a wonderful " + object + ", " + name;
        }
      }

      let s = new Student("Maaike", "van Putten");
      s.greet();

      let compliment = s.compliment("Harry", "hat");
      console.log(compliment);

      // ## Properties
      class Worker {
        #firstname;
        #lastname;
        constructor(firstname, lastname) {
          /*
          this.#firstname = firstname;
          this.#lastname = lastname;
          */
          if (firstname.startsWith("M")) {
            this.#firstname = firstname;
          } else {
            this.#firstname = "M" + firstname;
          }
          this.#lastname = lastname;
        }
      }

      let w = new Worker("Maria", "Saga");
      console.log(w.firstname);

      let w2 = new Worker("kay", "Moon"); // Now we can't access the property from outside the class

      // ### Getters and setters
      class Developer {
        #firstname;
        #lastname;
        constructor(firstname, lastname) {
          this.firstname = firstname;
          this.lastname = lastname;
        }

        get firstname() {
          return this.#firstname;
        }

        set firstname(firstname) {
          if (firstname.startsWith("M")) {
            this.#firstname = firstname;
          } else {
            this.#firstname = "M" + firstname;
          }
        }

        get lastname() {
          return this.#lastname;
        }

        set lastname(lastname) {
          this.#lastname = lastname;
        }
      }

      let d = new Developer("Maria", "Saga");
      console.log(d.firstname);

      d.firstname = "Adnane";
      console.log(d.firstname);
    </script>
  </head>
</html>
